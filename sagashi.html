<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>デジタル知恵の輪パズル</title>
  <style>
    body {
      font-family: sans-serif;
      text-align: center;
      background-color: #f0f0f0;
      margin: 0;
      padding: 20px;
    }
    h1 {
      margin-bottom: 10px;
    }
    p {
      margin: 10px 0;
    }
    #puzzle-container {
      margin: 20px auto;
      width: 500px;
      display: flex;
      flex-direction: column;
      gap: 20px;
      align-items: center;
    }
    .ring {
      width: 150px;
      height: 150px;
      border: 5px solid #333;
      border-radius: 50%;
      background-color: #fff;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: transform 0.5s ease;
      position: relative;
    }
    .controls {
      margin-top: 5px;
    }
    .controls button {
      font-size: 16px;
      padding: 5px 10px;
      margin: 0 5px;
    }
    #hiddenMessage {
      margin-top: 30px;
      font-size: 24px;
      color: green;
      font-weight: bold;
    }
  </style>
</head>
<body>
  <h1>デジタル知恵の輪パズル</h1>
  <p>各リングを回転させ、正しい角度に合わせてください。<br>
     リング1：90°、リング2：180°、リング3：270°</p>
  <div id="puzzle-container">
    <!-- リング1 -->
    <div class="ring" id="ring1">
      <span id="angle-ring1">0°</span>
    </div>
    <div class="controls">
      <button onclick="rotateRing('ring1', -15)">←</button>
      <button onclick="rotateRing('ring1', 15)">→</button>
    </div>
    <!-- リング2 -->
    <div class="ring" id="ring2">
      <span id="angle-ring2">0°</span>
    </div>
    <div class="controls">
      <button onclick="rotateRing('ring2', -15)">←</button>
      <button onclick="rotateRing('ring2', 15)">→</button>
    </div>
    <!-- リング3 -->
    <div class="ring" id="ring3">
      <span id="angle-ring3">0°</span>
    </div>
    <div class="controls">
      <button onclick="rotateRing('ring3', -15)">←</button>
      <button onclick="rotateRing('ring3', 15)">→</button>
    </div>
  </div>
  <!-- 解答表示エリア -->
  <div id="hiddenMessage" style="display:none;">
    <p>正解！「解答」が浮かび上がりました！</p>
  </div>

  <script>
    // 正解の角度設定（°）
    const targetAngles = {
      ring1: 90,
      ring2: 180,
      ring3: 270
    };

    // 各リングの現在の角度を保持
    const currentAngles = {
      ring1: 0,
      ring2: 0,
      ring3: 0
    };

    // 指定されたリングを回転させる関数
    function rotateRing(ringId, delta) {
      currentAngles[ringId] = (currentAngles[ringId] + delta + 360) % 360;
      // 対象のリングの回転を更新
      document.getElementById(ringId).style.transform = "rotate(" + currentAngles[ringId] + "deg)";
      // 表示される角度のテキストを更新
      document.getElementById("angle-" + ringId).textContent = currentAngles[ringId] + "°";
      // 正解チェック
      checkSolution();
    }

    // 各リングの角度が正しいかを確認し、全て正しければ隠しメッセージを表示
    function checkSolution() {
      if (
        currentAngles.ring1 === targetAngles.ring1 &&
        currentAngles.ring2 === targetAngles.ring2 &&
        currentAngles.ring3 === targetAngles.ring3
      ) {
        document.getElementById("hiddenMessage").style.display = "block";
      } else {
        document.getElementById("hiddenMessage").style.display = "none";
      }
    }
  </script>
</body>
</html>
